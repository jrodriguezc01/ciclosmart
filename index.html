<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>CicloSmart | Plataforma de Miner√≠a Urbana Digital</title>
  <meta name="description" content="CicloSmart ‚Äî Compra y vende materiales sobrantes de obra. Reduce costos, residuos y tiempos con un marketplace √°gil y seguro." />
  <link rel="stylesheet" href="styles.css" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800&display=swap" rel="stylesheet"><script
    src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
    integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
    crossorigin=""
  ></script>
</head>
<body>
  <header class="header">
    <div class="container header-inner">
      <a class="brand" href="#home" aria-label="CicloSmart Inicio">
        <img src="logo-ciclosmart.svg" alt="CicloSmart" class="logo-img" />
        <span class="brand-name">CicloSmart</span>
      </a>
      <nav class="nav">
        <a href="#catalogo" class="nav-link">Cat√°logo</a>
        <a href="#vender" class="nav-link">Vender</a>
        <a href="#como-funciona" class="nav-link">C√≥mo funciona</a>
        <button id="loginBtn" class="btn ghost">
          <span id="loginLabel">Ingresar</span>
        </button>
        <button id="cartBtn" class="btn primary">
          Carrito <span id="cartCount" class="badge">0</span>
        </button>
      </nav>
    </div>
  </header>

  <main class="main">
    <div id="toast" class="toast" role="status" aria-live="polite" aria-atomic="true"></div>

    <!-- Hero -->
    <section id="home" class="hero">
      <div class="container hero-inner">
        <div class="hero-copy">
          <h1>
            Miner√≠a Urbana Digital <span class="accent">antes de la demolici√≥n</span>
          </h1>
          <p>
            CicloSmart levanta inventarios digitales de edificios, georreferencia materiales
            y estima su valor antes de que se conviertan en residuos. Luego conecta esos
            materiales con nuevas obras a trav√©s de un marketplace circular.
          </p>
          <div class="hero-actions">
            <a href="#inventario" class="btn primary lg">Simular inventario pre-demolici√≥n</a>
            <a href="#catalogo" class="btn outline lg">Ver materiales recuperados</a>
          </div>
          <div class="trust">
            <span>‚ôªÔ∏è Econom√≠a circular real</span>
            <span>üìç GIS + inventario digital</span>
            <span>ü§ñ IA para valor y CO‚ÇÇ</span>
          </div>
        </div>
        <div class="hero-visual" aria-hidden="true">
          <div class="mock-card">
            <div class="thumb">üß±</div>
            <div class="lines"><b>Varilla corrugada 3/8"</b><span>Acero ‚Ä¢ Nuevo ‚Ä¢ Lima</span><i>USD 9.50</i></div>
          </div>
          <div class="mock-card">
            <div class="thumb">üé®</div>
            <div class="lines"><b>Pintura l√°tex 5 gal</b><span>Acabados ‚Ä¢ Nuevo ‚Ä¢ Miraflores</span><i>USD 170.00</i></div>
          </div>
          <div class="mock-card">
            <div class="thumb">ü™µ</div>
            <div class="lines"><b>Madera 2x4</b><span>Madera ‚Ä¢ Como nuevo ‚Ä¢ Surco</span><i>USD 220.00</i></div>
          </div>
        </div>
      </div>
    </section>



    <!-- Pre-demolition Inventory Demo -->
    <section class="section alt" id="inventario">
      <div class="container">
        <div class="section-head">
          <h2>Simulador de inventario pre-demolici√≥n</h2>
          <p class="muted">Demo funcional de c√≥mo CicloSmart estima valor y CO‚ÇÇ evitado antes de la demolici√≥n.</p>
        </div>

        <form id="preDemoForm" class="form-grid">
          <div class="field">
            <label>Nombre del edificio</label>
            <input name="buildingName" placeholder="p.ej., Edificio oficinas Av. X" required />
          </div>
          <div class="row">
            <div class="field">
              <label>√Årea √∫til (m¬≤)</label>
              <input name="area" type="number" min="1" required />
            </div>
            <div class="field">
              <label>% estimado de materiales reutilizables</label>
              <input name="reusePct" type="number" min="0" max="100" value="35" required />
            </div>
          </div>
          <div class="field">
            <label>Tipo principal de estructura</label>
            <select name="structureType" required>
              <option>Concreto armado</option>
              <option>Estructura met√°lica</option>
              <option>Mamposter√≠a</option>
            </select>
          </div>
          <div class="field">
            <label>Ubicaci√≥n (distrito / ciudad)</label>
            <input name="location" placeholder="p.ej., Santiago Centro" required />
          </div>
          <div class="actions">
            <button class="btn primary" type="submit">Calcular potencial de recuperaci√≥n</button>
          </div>
        </form>

        <div id="preDemoResult" class="order-result" style="margin-top:16px;" hidden></div>
      </div>
    </section>

    <!-- GIS Map -->
    <section class="section" id="mapa">
      <div class="container">
        <div class="section-head">
          <h2>Mapa de oportunidades de miner√≠a urbana</h2>
          <p class="muted">Visualizaci√≥n GIS de edificios con inventario pre-demolici√≥n y materiales listados.</p>
        </div>
        
        <div id="csMap" class="mock-gis">
          <div class="mock-gis-header">
            <span class="badge">Demo GIS offline</span>
            <span class="mock-gis-legend">‚óè Sitio con inventario pre-demolici√≥n &nbsp;&nbsp;‚óè Bodega industrial</span>
          </div>
          <div class="mock-gis-grid">
            <div class="block"></div>
            <div class="block dense"></div>
            <div class="block"></div>
            <div class="block"></div>
            <div class="block"></div>
            <div class="block"></div>

            <button class="marker marker-a">
              Edificio oficinas Alameda
              <span>Inventario completo ‚Ä¢ 42% reutilizaci√≥n</span>
            </button>
            <button class="marker marker-b">
              Bodega industrial Quilicura
              <span>Estructura met√°lica ‚Ä¢ Alto potencial de acero</span>
            </button>

            <div class="mock-gis-ctrls">
              <button class="zoom">+</button>
              <button class="zoom">‚àí</button>
            </div>
            <div class="mock-gis-scale">
              <span>50 m</span>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Categories -->
    <section class="section alt" id="categorias">
      <div class="container">
        <div class="section-head">
          <h2>Explora por categor√≠as</h2>
          <div class="search">
            <input id="searchInput" type="search" placeholder="Buscar por nombre, categor√≠a o distrito‚Ä¶" />
            <button id="searchBtn" class="btn">Buscar</button>
          </div>
        </div>
        <div class="cat-grid">
          <button class="cat" data-cat="">Todas</button>
          <button class="cat" data-cat="Acero">Acero</button>
          <button class="cat" data-cat="Madera">Madera</button>
          <button class="cat" data-cat="Acabados">Acabados</button>
          <button class="cat" data-cat="Herramientas">Herramientas</button>
          <button class="cat" data-cat="El√©ctricos">El√©ctricos</button>
          <button class="cat" data-cat="Sanitarios">Sanitarios</button>
          <button class="cat" data-cat="Varios">Varios</button>
        </div>
      </div>
    </section>

    <!-- Catalog -->
    <section class="section" id="catalogo">
      <div class="container">
        <div class="toolbar">
          <div class="selects">
            <select id="conditionFilter" aria-label="Estado">
              <option value="">Todos los estados</option>
              <option>Nuevo</option>
              <option>Como nuevo</option>
              <option>Usado</option>
            </select>
            <select id="sortSelect" aria-label="Ordenar">
              <option value="relevance">Relevancia</option>
              <option value="priceAsc">Precio: menor a mayor</option>
              <option value="priceDesc">Precio: mayor a menor</option>
              <option value="newest">M√°s recientes</option>
            </select>
          </div>
          <a href="#vender" class="btn outline">+ Publicar</a>
        </div>
        <div id="catalogGrid" class="grid"></div>
      </div>
    </section>

    <!-- Sell -->
    <section class="section alt" id="vender">
      <div class="container">
        <div class="section-head">
          <h2>Publica un sobrante</h2>
          <p class="muted">Reg√≠strate o inicia sesi√≥n para publicar. Las publicaciones se almacenan localmente para esta demo.</p>
        </div>
        <form id="sellForm" class="form-grid">
          <div class="field">
            <label>T√≠tulo</label>
            <input name="title" required placeholder="p.ej., 25 sacos de cemento tipo I" />
          </div>
          <div class="field">
            <label>Categor√≠a</label>
            <select name="category" required>
              <option>Acero</option><option>Madera</option><option>Acabados</option><option>Herramientas</option><option>El√©ctricos</option><option>Sanitarios</option><option>Varios</option>
            </select>
          </div>
          <div class="field">
            <label>Estado</label>
            <select name="condition" required>
              <option>Nuevo</option><option>Como nuevo</option><option>Usado</option>
            </select>
          </div>
          <div class="row">
            <div class="field">
              <label>Precio (USD)</label>
              <input name="price" type="number" step="0.01" required />
            </div>
            <div class="field">
              <label>Cantidad</label>
              <input name="qty" type="number" min="1" value="1" required />
            </div>
          </div>
          <div class="field">
            <label>Ubicaci√≥n</label>
            <input name="location" placeholder="Lima, Per√∫" required />
          </div>
          <div class="field">
            <label>Descripci√≥n</label>
            <textarea name="description" rows="3" placeholder="Detalles, marca, lote, medidas‚Ä¶"></textarea>
          </div>
          <div class="actions">
            <button class="btn primary" type="submit">Publicar ahora</button>
            <button class="btn" type="reset">Limpiar</button>
          </div>
        </form>
      </div>
    </section>

    <!-- How it works -->
        <!-- How it works -->
    <section class="section" id="como-funciona">
      <div class="container">
        <div class="section-head">
          <h2>C√≥mo funciona CicloSmart</h2>
        </div>
        <div class="steps">
          <div class="step">
            <span class="step-num">1</span>
            <b>Inventario digital del edificio</b>
            <p>Registramos ambientes y materiales antes de la demolici√≥n: tipo, cantidad, estado y potencial de recuperaci√≥n.</p>
          </div>
          <div class="step">
            <span class="step-num">2</span>
            <b>IA + GIS para valor y CO‚ÇÇ</b>
            <p>La IA estima valor econ√≥mico y CO‚ÇÇ evitado, mientras el GIS georreferencia el edificio y sus materiales en la ciudad.</p>
          </div>
          <div class="step">
            <span class="step-num">3</span>
            <b>Marketplace circular</b>
            <p>Publicamos los materiales recuperables en el marketplace y los conectamos con nuevas obras, evitando que se conviertan en residuos.</p>
          </div>
        </div>
      </div>
    </section>

    <!-- Drawer Cart -->
    <aside id="cartDrawer" class="drawer" aria-hidden="true" aria-label="Carrito de compras">
      <div class="drawer-head">
        <h3>Tu carrito</h3>
        <button id="closeCart" class="icon" aria-label="Cerrar">‚úï</button>
      </div>
      <div id="cartItems" class="cart-items"></div>
      <div class="drawer-foot">
        <div class="totals">
          <div><span>Subtotal</span><strong id="cartSubtotal">USD 0.00</strong></div>
          <div><span>Env√≠o estimado</span><strong id="cartShipping">USD 0.00</strong></div>
          <div class="grand"><span>Total</span><strong id="cartTotal">USD 0.00</strong></div>
        </div>
        <a href="#pago" class="btn primary full" id="goCheckout">Proceder al pago</a>
      </div>
    </aside>

    <!-- Checkout -->
    <section class="section alt" id="pago">
      <div class="container">
        <div class="section-head">
          <h2>Despacho y pago</h2>
        </div>
        <form id="checkoutForm" class="form-grid">
          <div class="field"><label>Nombre completo</label><input name="fullName" required /></div>
          <div class="field"><label>Tel√©fono</label><input name="phone" required /></div>
          <div class="field"><label>Direcci√≥n</label><input name="address" required /></div>
          <div class="row">
            <div class="field"><label>Ciudad</label><input name="city" value="Lima" required /></div>
            <div class="field"><label>Distrito</label><input name="district" placeholder="p.ej., Miraflores" required /></div>
          </div>
          <div class="row">
            <div class="field">
              <label>M√©todo de env√≠o</label>
              <select name="shippingMethod" required>
                <option value="pickup">Recojo (USD 0)</option>
                <option value="standard">Est√°ndar 48‚Äì72h (USD 20)</option>
                <option value="express">Expr√©s 24h (USD 35)</option>
              </select>
            </div>
            <div class="field">
              <label>M√©todo de pago</label>
              <select name="paymentMethod" required>
                <option>Contraentrega</option>
                <option>Tarjeta</option>
                <option>Transferencia</option>
              </select>
            </div>
          </div>
          <div class="actions"><button class="btn primary" type="submit">Confirmar pedido</button></div>
        </form>
        <div id="orderResult" class="order-result" hidden></div>
      </div>
    </section>

    <!-- Orders -->
    <section class="section" id="pedidos">
      <div class="container">
        <div class="section-head"><h2>Mis pedidos</h2></div>
        <div id="ordersList" class="orders"></div>
      </div>
    </section>
  </main>

  <footer class="footer">
    <div class="container footer-inner">
      <div>¬© <span id="year"></span> CicloSmart ‚Äî Prototipo</div>
      <nav class="foot-nav">
        <a href="#home">Inicio</a><a href="#catalogo">Cat√°logo</a><a href="#vender">Vender</a><a href="#como-funciona">C√≥mo funciona</a>
      </nav>
    </div>
  </footer>

  <!-- Auth Modal -->
  <dialog id="authModal" class="modal">
    <div class="modal-card">
      <div class="modal-head">
        <h3 id="authTitle">Ingresar</h3>
        <button id="closeAuth" class="icon" aria-label="Cerrar">‚úï</button>
      </div>
      <div class="tabs">
        <button class="tab active" data-tab="login">Login</button>
        <button class="tab" data-tab="signup">Registro</button>
      </div>
      <div class="tab-panels">
        <form id="loginForm" class="tab-panel active" data-panel="login">
          <label>Correo</label><input name="email" type="email" required />
          <label>Contrase√±a</label><input name="password" type="password" required />
          <button class="btn primary full" type="submit">Ingresar</button>
        </form>
        <form id="signupForm" class="tab-panel" data-panel="signup">
          <label>Nombre</label><input name="name" required />
          <label>Correo</label><input name="email" type="email" required />
          <label>Contrase√±a</label><input name="password" type="password" required />
          <button class="btn full" type="submit">Crear cuenta</button>
        </form>
      </div>
    </div>
  </dialog>

  <script src="app.js"></script>
</body>
</html>
